## SafeCounter â€“ Contador Thread-Safe em Delphi

Este projeto demonstra como implementar um **contador seguro para mÃºltiplas threads** em **Delphi**, utilizando a classe `TCriticalSection` para garantir exclusÃ£o mÃºtua.

Inclui:

* Classe `TSafeCounter` â€” contador de inteiros protegido por `TCriticalSection`.
* Programa de teste multithread, onde vÃ¡rias threads incrementam simultaneamente o mesmo contador.

---

## ğŸ“‚ Estrutura do Projeto

```
/SafeCounter
 â”œâ”€â”€ SafeCounter.pas     â† Classe TSafeCounter (contagem segura)
 â”œâ”€â”€ TesteSafeCounter.dprâ† Programa console de teste multithread
 â””â”€â”€ README.md           â† Este arquivo
```

---

## ğŸš€ Como funciona

**`TSafeCounter`** possui dois mÃ©todos principais:

* `Next`: incrementa o valor e retorna o novo resultado.
* `Value`: lÃª o valor atual sem modificÃ¡-lo.

Todas as operaÃ§Ãµes sÃ£o protegidas por `TCriticalSection` para garantir que **apenas uma thread por vez** altere ou leia o valor, evitando **condiÃ§Ãµes de corrida**.

O programa `TesteSafeCounter`:

1. Cria uma instÃ¢ncia de `TSafeCounter`.
2. LanÃ§a mÃºltiplas `TThread`s (10 no total).
3. Cada thread incrementa o contador 100.000 vezes.
4. Aguarda todas as threads finalizarem.
5. Mostra no console o **valor esperado** e o **valor real**.

GraÃ§as ao controle de concorrÃªncia, o valor **sempre** serÃ¡ correto.

---

## ğŸ› ï¸ Como compilar

1. Abra o `TesteSafeCounter.dpr` no **Delphi** (qualquer versÃ£o com suporte a **System.SyncObjs** â€” ex.: Delphi XE ou superior).
2. Compile como **Console Application**.
3. Execute.

---

## ğŸ“Š Exemplo de saÃ­da esperada

```
Valor esperado: 1000000
Valor real    : 1000000
```

---

## ğŸ’¡ Conceitos abordados

âœ… ExclusÃ£o mÃºtua com `TCriticalSection`
âœ… ProgramaÃ§Ã£o multithread em Delphi
âœ… Classes thread-safe
âœ… SincronizaÃ§Ã£o de recursos compartilhados

---

## âš ï¸ ObservaÃ§Ãµes

* Este exemplo usa `TCriticalSection` para simplicidade.
  Para casos com muitas leituras e poucas escritas, considere `TMultiReadExclusiveWriteSynchronizer`.

* O projeto serve como **template** para qualquer necessidade de sincronizaÃ§Ã£o em Delphi: logs, filas, caches, etc.


## ğŸ“„ LicenÃ§a

Este cÃ³digo Ã© livre para uso, modificaÃ§Ã£o e distribuiÃ§Ã£o.